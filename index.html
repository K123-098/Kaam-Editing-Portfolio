<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Decoded HTML</title>
</head>
<body>
    <script>
        // Prevent right-click context menu
        document.addEventListener('contextmenu', function(event) { 
            event.preventDefault(); 
        });

        // Prevent opening developer tools with Ctrl+Shift+I (F12)
        document.addEventListener('keydown', function(event) { 
            if (event.ctrlKey && (event.key === 'i' || event.keyCode === 73) || 
                (event.shiftKey && event.keyCode === 73) || 
                (event.keyCode === 123)) { 
                event.preventDefault(); 
            }
        });

        // Prevent F12 key
        document.addEventListener('keydown', function(event) {
            if (event.keyCode === 123) { // F12 key
                event.preventDefault();
            }
        });

        // Disable certain shortcuts
        document.addEventListener('keydown', function(event) {
            if (event.ctrlKey && event.keyCode === 85) { // Ctrl+U (View Source)
                event.preventDefault();
            }
        });

        // Detect and warn if the console is opened
        let devtoolsOpen = false;
        const element = new Image();
        Object.defineProperty(element, 'id', {
            get: function() {
                devtoolsOpen = true;
                alert('Please do not use developer tools!');
            }
        });

        setInterval(function() {
            devtoolsOpen = false;
            console.log(element);
        }, 1000);

        // Fetch the encoded content from the private repo
        async function fetchEncodedContent() {
        const token = process.env.PUBLIC_REPO_TOKEN; // Make sure this is set correctly in your workflow

            const response = await fetch('https://raw.githubusercontent.com/Kaam-Editing/Kaam-Editing-portfolio-design/main/private_repo/encoded_content.txt', {
                headers: {
                    'Authorization':  // Use the token retrieved from your environment variable
                }
            });
            if (!response.ok) throw new Error('Network response was not ok');
            const encodedCode = await response.text();
            const decodedCode = atob(encodedCode); // Decode from Base64
            document.write(decodedCode);
        }

        fetchEncodedContent().catch(error => console.error('Error fetching the encoded content:', error));
    </script>
</body>
</html>
